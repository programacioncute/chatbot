{"version":3,"mappings":"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","names":["logo","Layout","jsxs","styles","jsx","Link","NavLink","isActive","Outlet","askApi","options","response","_a","_b","_c","_d","_e","_f","_g","_h","parsedResponse","chatApi","_i","getCitationFilePath","citation","Approaches","parseAnswerToHtml","answer","onCitationClicked","citations","followupQuestions","parsedAnswer","match","content","part","index","citationIndex","path","renderToStaticMarkup","AnswerIcon","Sparkle28Filled","Answer","isSelected","onQueryClicked","useMemo","sanitizedAnswerHtml","DOMPurify","Stack","IconButton","AnswerLoading","animatedStyles","useSpring","animated","AnswerError","error","onRetry","ErrorCircle24Regular","PrimaryButton","QuestionInput","onSend","disabled","placeholder","clearOnSend","question","setQuestion","useState","sendQuestion","onEnterPress","ev","onQuestionChange","_ev","newValue","sendQuestionDisabled","TextField","Send28Filled","UserChatMessage","message","Table","data","Fragment","key","item","value","IframeComponent","jsonData","TableData","responseDataList","AnalysisPanelTabs","pivotItemDisabledStyle","AnalysisPanel","activeTab","className","onActiveTabChanged","isDisabledQueryTab","sanitizedQuery","Pivot","pivotItem","PivotItem","SettingsButton","onClick","Settings24Regular","Text","ClearChatButton","Delete24Regular","talkData","Chat","isConfigPanelOpen","setIsConfigPanelOpen","promptTemplate","setPromptTemplate","retrieveCount","setRetrieveCount","useSemanticRanker","setUseSemanticRanker","useSemanticCaptions","setUseSemanticCaptions","excludeCategory","setExcludeCategory","useSuggestFollowupQuestions","setUseSuggestFollowupQuestions","lastQuestionRef","useRef","chatMessageStreamEnd","isLoading","setIsLoading","setError","activeCitation","setActiveCitation","activeAnalysisPanelTab","setActiveAnalysisPanelTab","selectedAnswer","setSelectedAnswer","answers","setAnswers","makeApiRequest","request","a","result","e","clearChat","useEffect","onPromptTemplateChange","onRetrieveCountChange","onUseSemanticRankerChange","checked","onUseSemanticCaptionsChange","onExcludeCategoryChanged","onUseSuggestFollowupQuestionsChange","onToggleTab","tab","x","Panel","DefaultButton","SpinButton","Checkbox","initializeIcons","router","createHashRouter","ReactDOM","React","RouterProvider"],"sources":["../../../frontend/src/assets/ntt_logo_2.png","../../../frontend/src/pages/layout/Layout.tsx","../../../frontend/src/api/api.ts","../../../frontend/src/api/models.ts","../../../frontend/src/components/Answer/AnswerParser.tsx","../../../frontend/src/components/Answer/AnswerIcon.tsx","../../../frontend/src/components/Answer/Answer.tsx","../../../frontend/src/components/Answer/AnswerLoading.tsx","../../../frontend/src/components/Answer/AnswerError.tsx","../../../frontend/src/components/QuestionInput/QuestionInput.tsx","../../../frontend/src/components/UserChatMessage/UserChatMessage.tsx","../../../frontend/src/components/Table/Table.tsx","../../../frontend/src/components/IframeComponent/IframeComponent.tsx","../../../frontend/src/components/TableData/TableData.tsx","../../../frontend/src/components/AnalysisPanel/AnalysisPanelTabs.tsx","../../../frontend/src/components/AnalysisPanel/AnalysisPanel.tsx","../../../frontend/src/components/SettingsButton/SettingsButton.tsx","../../../frontend/src/components/ClearChatButton/ClearChatButton.tsx","../../../frontend/src/assets/ntt-data-2.jpg","../../../frontend/src/pages/chat/Chat.tsx","../../../frontend/src/index.tsx"],"sourcesContent":["export default \"data:image/png;base64,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\"","import { Outlet, NavLink, Link } from \"react-router-dom\";\n\nimport github from \"../../assets/github.svg\";\nimport logo from \"../../assets/ntt_logo_2.png\";\nimport styles from \"./Layout.module.css\";\n\nconst Layout = () => {\n    return (\n        <div className={styles.layout}>\n            <header className={styles.header} role={\"banner\"}>\n                <div className={styles.headerContainer}>\n                    <Link to=\"/\" className={styles.headerTitleContainer}>\n                        <img src={logo} alt=\"Vivo Logo\" aria-label=\"Link to github repository\" width=\"230px\" height=\"60px\" className={styles.githubLogo} />\n                    </Link>\n                    <nav>\n                        <ul className={styles.headerNavList}>\n                            <li className={styles.headerNavLeftMargin}></li>\n                            <li>\n                                <NavLink to=\"/\" className={({ isActive }) => (isActive ? styles.headerNavPageLinkActive : styles.headerNavPageLink)}>\n                                    Chat\n                                </NavLink>\n                            </li>\n                            <li className={styles.headerNavLeftMargin}>\n                                <NavLink to=\"/qa\" className={({ isActive }) => (isActive ? styles.headerNavPageLinkActive : styles.headerNavPageLink)}>\n                                    Ask a Question\n                                </NavLink>\n                            </li>\n                        </ul>\n                    </nav>\n                </div>\n            </header>\n\n            <Outlet />\n        </div>\n    );\n};\n\nexport default Layout;\n","import { AskRequest, AskResponse, ChatRequest } from \"./models\";\n\nexport async function askApi(options: AskRequest): Promise<AskResponse> {\n    const response = await fetch(\"/ask\", {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            question: options.question,\n            approach: options.approach,\n            overrides: {\n                semantic_ranker: options.overrides?.semanticRanker,\n                semantic_captions: options.overrides?.semanticCaptions,\n                top: options.overrides?.top,\n                temperature: options.overrides?.temperature,\n                prompt_template: options.overrides?.promptTemplate,\n                prompt_template_prefix: options.overrides?.promptTemplatePrefix,\n                prompt_template_suffix: options.overrides?.promptTemplateSuffix,\n                exclude_category: options.overrides?.excludeCategory\n            }\n        })\n    });\n\n    const parsedResponse: AskResponse = await response.json();\n    if (response.status > 299 || !response.ok) {\n        throw Error(parsedResponse.error || \"Unknown error\");\n    }\n\n    return parsedResponse;\n}\n\nexport async function chatApi(options: ChatRequest): Promise<AskResponse> {\n    const response = await fetch(\"/chat\", {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            history: options.history,\n            approach: options.approach,\n            overrides: {\n                semantic_ranker: options.overrides?.semanticRanker,\n                semantic_captions: options.overrides?.semanticCaptions,\n                top: options.overrides?.top,\n                temperature: options.overrides?.temperature,\n                prompt_template: options.overrides?.promptTemplate,\n                prompt_template_prefix: options.overrides?.promptTemplatePrefix,\n                prompt_template_suffix: options.overrides?.promptTemplateSuffix,\n                exclude_category: options.overrides?.excludeCategory,\n                suggest_followup_questions: options.overrides?.suggestFollowupQuestions\n            }\n        })\n    });\n\n    const parsedResponse: AskResponse = await response.json();\n    if (response.status > 299 || !response.ok) {\n        throw Error(parsedResponse.error || \"Unknown error\");\n    }\n\n    // const response = JSON.stringify({\n    //     answer:\"The future is here\",\n    //     sql:\"SELECT * FROM whatever\",\n    //     data:[\n    //         {\n    //             name:\"fluff\",\n    //             age: 14,\n    //             species:\"rabbit\"\n    //         },\n    //         {\n    //             name:\"boy\",\n    //             age: 5,\n    //             species:\"dog\"\n    //         }\n    //     ]\n    // })\n\n    // const parsedResponse: AskResponse = JSON.parse(response)\n\n    return parsedResponse;\n}\n\nexport function getCitationFilePath(citation: string): string {\n    return `/content/${citation}`;\n}\n","export const enum Approaches {\n    RetrieveThenRead = \"rtr\",\n    ReadRetrieveRead = \"rrr\",\n    ReadDecomposeAsk = \"rda\"\n}\n\nexport type AskRequestOverrides = {\n    semanticRanker?: boolean;\n    semanticCaptions?: boolean;\n    excludeCategory?: string;\n    top?: number;\n    temperature?: number;\n    promptTemplate?: string;\n    promptTemplatePrefix?: string;\n    promptTemplateSuffix?: string;\n    suggestFollowupQuestions?: boolean;\n};\n\nexport type AskRequest = {\n    question: string;\n    approach: Approaches;\n    overrides?: AskRequestOverrides;\n};\n\nexport type AskResponse = {\n    answer: string;\n    sql: string | null;\n    data: JSON[];\n    error?: string;\n};\n\nexport type ChatTurn = {\n    user: string;\n    bot?: string;\n};\n\nexport type ChatRequest = {\n    history: ChatTurn[];\n    approach: Approaches;\n    overrides?: AskRequestOverrides;\n};\n","import { renderToStaticMarkup } from \"react-dom/server\";\nimport { getCitationFilePath } from \"../../api\";\n\ntype HtmlParsedAnswer = {\n    answerHtml: string;\n    citations: string[];\n    followupQuestions: string[];\n};\n\nexport function parseAnswerToHtml(answer: string, onCitationClicked: (citationFilePath: string) => void): HtmlParsedAnswer {\n    const citations: string[] = [];\n    const followupQuestions: string[] = [];\n\n    // Extract any follow-up questions that might be in the answer\n    let parsedAnswer = answer.replace(/<<([^>>]+)>>/g, (match, content) => {\n        followupQuestions.push(content);\n        return \"\";\n    });\n\n    // trim any whitespace from the end of the answer after removing follow-up questions\n    parsedAnswer = parsedAnswer.trim();\n\n    const parts = parsedAnswer.split(/\\[([^\\]]+)\\]/g);\n\n    const fragments: string[] = parts.map((part, index) => {\n        if (index % 2 === 0) {\n            return part;\n        } else {\n            let citationIndex: number;\n            if (citations.indexOf(part) !== -1) {\n                citationIndex = citations.indexOf(part) + 1;\n            } else {\n                citations.push(part);\n                citationIndex = citations.length;\n            }\n\n            const path = getCitationFilePath(part);\n\n            return renderToStaticMarkup(\n                <a className=\"supContainer\" title={part} onClick={() => onCitationClicked(path)}>\n                    <sup>{citationIndex}</sup>\n                </a>\n            );\n        }\n    });\n\n    return {\n        answerHtml: fragments.join(\"\"),\n        citations,\n        followupQuestions\n    };\n}\n","import { Sparkle28Filled } from \"@fluentui/react-icons\";\n\nexport const AnswerIcon = () => {\n    return <Sparkle28Filled primaryFill={\"rgba(115, 118, 225, 1)\"} aria-hidden=\"true\" aria-label=\"Answer logo\" />;\n};\n","import { useMemo } from \"react\";\nimport { Stack, IconButton } from \"@fluentui/react\";\nimport DOMPurify from \"dompurify\";\n\nimport styles from \"./Answer.module.css\";\n\nimport { AskResponse, getCitationFilePath } from \"../../api\";\nimport { parseAnswerToHtml } from \"./AnswerParser\";\nimport { AnswerIcon } from \"./AnswerIcon\";\n\ninterface Props {\n    answer: AskResponse;\n    isSelected?: boolean;\n    onQueryClicked: () => void;\n}\n\nexport const Answer = ({ answer, isSelected, onQueryClicked }: Props) => {\n    const parsedAnswer = useMemo(() => parseAnswerToHtml(answer.answer, onQueryClicked), [answer]);\n\n    const sanitizedAnswerHtml = DOMPurify.sanitize(parsedAnswer.answerHtml);\n\n    return (\n        <Stack className={`${styles.answerContainer} ${isSelected && styles.selected}`} verticalAlign=\"space-between\">\n            <Stack.Item>\n                <Stack horizontal horizontalAlign=\"space-between\">\n                    <AnswerIcon />\n                    <div>\n                        <IconButton\n                            style={{ color: \"black\" }}\n                            iconProps={{ iconName: \"Database\" }}\n                            title=\"Show Database query\"\n                            ariaLabel=\"Show Database query\"\n                            onClick={() => onQueryClicked()}\n                            disabled={!answer.data.length}\n                        />\n                    </div>\n                </Stack>\n            </Stack.Item>\n\n            <Stack.Item grow>\n                <div className={styles.answerText} dangerouslySetInnerHTML={{ __html: sanitizedAnswerHtml }}></div>\n            </Stack.Item>\n        </Stack>\n    );\n};\n","import { Stack } from \"@fluentui/react\";\nimport { animated, useSpring } from \"@react-spring/web\";\n\nimport styles from \"./Answer.module.css\";\nimport { AnswerIcon } from \"./AnswerIcon\";\n\nexport const AnswerLoading = () => {\n    const animatedStyles = useSpring({\n        from: { opacity: 0 },\n        to: { opacity: 1 }\n    });\n\n    return (\n        <animated.div style={{ ...animatedStyles }}>\n            <Stack className={styles.answerContainer} verticalAlign=\"space-between\">\n                <AnswerIcon />\n                <Stack.Item grow>\n                    <p className={styles.answerText}>\n                        Generating answer\n                        <span className={styles.loadingdots} />\n                    </p>\n                </Stack.Item>\n            </Stack>\n        </animated.div>\n    );\n};\n","import { Stack, PrimaryButton } from \"@fluentui/react\";\nimport { ErrorCircle24Regular } from \"@fluentui/react-icons\";\n\nimport styles from \"./Answer.module.css\";\n\ninterface Props {\n    error: string;\n    onRetry: () => void;\n}\n\nexport const AnswerError = ({ error, onRetry }: Props) => {\n    return (\n        <Stack className={styles.answerContainer} verticalAlign=\"space-between\">\n            <ErrorCircle24Regular aria-hidden=\"true\" aria-label=\"Error icon\" primaryFill=\"red\" />\n\n            <Stack.Item grow>\n                <p className={styles.answerText}>{error}</p>\n            </Stack.Item>\n\n            <PrimaryButton className={styles.retryButton} onClick={onRetry} text=\"Retry\" />\n        </Stack>\n    );\n};\n","import { useState } from \"react\";\nimport { Stack, TextField } from \"@fluentui/react\";\nimport { Send28Filled } from \"@fluentui/react-icons\";\n\nimport styles from \"./QuestionInput.module.css\";\n\ninterface Props {\n    onSend: (question: string) => void;\n    disabled: boolean;\n    placeholder?: string;\n    clearOnSend?: boolean;\n}\n\nexport const QuestionInput = ({ onSend, disabled, placeholder, clearOnSend }: Props) => {\n    const [question, setQuestion] = useState<string>(\"\");\n\n    const sendQuestion = () => {\n        if (disabled || !question.trim()) {\n            return;\n        }\n\n        onSend(question);\n\n        if (clearOnSend) {\n            setQuestion(\"\");\n        }\n    };\n\n    const onEnterPress = (ev: React.KeyboardEvent<Element>) => {\n        if (ev.key === \"Enter\" && !ev.shiftKey) {\n            ev.preventDefault();\n            sendQuestion();\n        }\n    };\n\n    const onQuestionChange = (_ev: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>, newValue?: string) => {\n        if (!newValue) {\n            setQuestion(\"\");\n        } else if (newValue.length <= 1000) {\n            setQuestion(newValue);\n        }\n    };\n\n    const sendQuestionDisabled = disabled || !question.trim();\n\n    return (\n        <Stack horizontal className={styles.questionInputContainer}>\n            <TextField\n                className={styles.questionInputTextArea}\n                placeholder={placeholder}\n                multiline\n                resizable={false}\n                borderless\n                value={question}\n                onChange={onQuestionChange}\n                onKeyDown={onEnterPress}\n            />\n            <div className={styles.questionInputButtonsContainer}>\n                <div\n                    className={`${styles.questionInputSendButton} ${sendQuestionDisabled ? styles.questionInputSendButtonDisabled : \"\"}`}\n                    aria-label=\"Ask question button\"\n                    onClick={sendQuestion}\n                >\n                    <Send28Filled primaryFill=\"rgba(115, 118, 225, 1)\" />\n                </div>\n            </div>\n        </Stack>\n    );\n};\n","import styles from \"./UserChatMessage.module.css\";\n\ninterface Props {\n    message: string;\n}\n\nexport const UserChatMessage = ({ message }: Props) => {\n    return (\n        <div className={styles.container}>\n            <div className={styles.message}>{message}</div>\n        </div>\n    );\n};\n","import React from \"react\";\nimport styles from \"./Table.module.css\";\n\nexport const Table = ({ data }: { data: any }) => {\n    if (!data) {\n        return null;\n    }\n    console.log(data)\n\n    return (\n        <>\n            <div className={styles.tblheader}>\n                <table>\n                    <thead>\n                        <tr>\n                            {/* Assuming 'data' is an array of objects and the keys represent the table headers */}\n                            {Object.keys(data[0]).map(key => (\n                                <th key={key}>{key}</th>\n                            ))}\n                        </tr>\n                    </thead>\n                </table>\n            </div>\n            <div className={styles.tblcontent}>\n                <table>\n                    <tbody>\n                        {data.map((item:Object, index:number) => (\n                            <tr key={index}>\n                                {Object.values(item).map((value, index) => (\n                                    <td key={index}>{value}</td>\n                                ))}\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </div>\n        </>\n    );\n};\n","import React from \"react\";\nimport { Table } from \"../Table\"; // Import the Table component you created\n\nexport const IframeComponent = ({ jsonData }: { jsonData: any }) => {\n\n    console.log(jsonData)\n    // Generate the table content inside the iframe\n    const tableContent = <Table data={jsonData} />;\n\n    // You can customize the iframe style here\n    const iframeStyle = {\n        border: \"none\",\n        width: \"100%\",\n        height: \"300px\" // Set the desired height for the iframe\n    };\n\n    // Render the iframe with the table content\n    return (\n        // <iframe title=\"Table Preview\" style={iframeStyle}>\n            // {tableContent}\n        // </iframe>\n        <Table data={jsonData} />\n    );\n};\n","import React, { useState, useEffect } from \"react\";\nimport { IframeComponent } from \"../IframeComponent\"; // Import the IframeComponent you created\n\nexport const TableData = ({ responseDataList }: { responseDataList: any }) => {\n  // const [jsonDataList, setJsonDataList] = useState([]);\n\n  // useEffect(() => {\n  //   // Assuming you received the list of JSONs in the 'responseDataList' variable\n  //   const parsedDataList = responseDataList.map((jsonString: any) => JSON.parse(jsonString));\n  //   setJsonDataList(parsedDataList);\n  // }, []);\n\n  console.log(responseDataList)\n\n  return (\n    <div>\n      {/* Render the IframeComponent and pass the JSON data as a prop */}\n      <IframeComponent jsonData={responseDataList} />\n    </div>\n  );\n};\n","export enum AnalysisPanelTabs {\n    QueryTab = \"query\"\n}\n","import { Pivot, PivotItem } from \"@fluentui/react\";\nimport DOMPurify from \"dompurify\";\n\nimport styles from \"./AnalysisPanel.module.css\";\n\nimport { TableData } from \"../TableData\";\nimport { AskResponse } from \"../../api\";\nimport { AnalysisPanelTabs } from \"./AnalysisPanelTabs\";\n\ninterface Props {\n    className: string;\n    activeTab: AnalysisPanelTabs;\n    onActiveTabChanged: (tab: AnalysisPanelTabs) => void;\n    answer: AskResponse;\n}\n\nconst pivotItemDisabledStyle = { disabled: true, style: { color: \"grey\" } };\n\nexport const AnalysisPanel = ({ answer, activeTab, className, onActiveTabChanged }: Props) => {\n    const isDisabledQueryTab: boolean = !answer.sql && !answer.data.length;\n\n    const sanitizedQuery = DOMPurify.sanitize(answer.sql!);\n\n    return (\n        <Pivot\n            className={className}\n            selectedKey={activeTab}\n            onLinkClick={pivotItem => pivotItem && onActiveTabChanged(pivotItem.props.itemKey! as AnalysisPanelTabs)}\n        >\n            <PivotItem itemKey={AnalysisPanelTabs.QueryTab} headerText=\"Query done\" headerButtonProps={isDisabledQueryTab ? pivotItemDisabledStyle : undefined}>\n                <div className={styles.thoughtProcess} dangerouslySetInnerHTML={{ __html: sanitizedQuery }}></div>\n                <TableData responseDataList={answer.data} />\n            </PivotItem>\n        </Pivot>\n    );\n};\n","import { Text } from \"@fluentui/react\";\nimport { Settings24Regular } from \"@fluentui/react-icons\";\n\nimport styles from \"./SettingsButton.module.css\";\n\ninterface Props {\n    className?: string;\n    onClick: () => void;\n}\n\nexport const SettingsButton = ({ className, onClick }: Props) => {\n    return (\n        <div className={`${styles.container} ${className ?? \"\"}`} onClick={onClick}>\n            <Settings24Regular />\n            <Text>{\"Developer settings\"}</Text>\n        </div>\n    );\n};\n","import { Text } from \"@fluentui/react\";\nimport { Delete24Regular } from \"@fluentui/react-icons\";\n\nimport styles from \"./ClearChatButton.module.css\";\n\ninterface Props {\n    className?: string;\n    onClick: () => void;\n    disabled?: boolean;\n}\n\nexport const ClearChatButton = ({ className, disabled, onClick }: Props) => {\n    return (\n        <div className={`${styles.container} ${className ?? \"\"} ${disabled && styles.disabled}`} onClick={onClick}>\n            <Delete24Regular />\n            <Text>{\"Clear chat\"}</Text>\n        </div>\n    );\n};\n","export default \"__VITE_ASSET__7ef63b23__\"","import { useRef, useState, useEffect } from \"react\";\nimport { Checkbox, Panel, DefaultButton, TextField, SpinButton } from \"@fluentui/react\";\nimport { SparkleFilled } from \"@fluentui/react-icons\";\n\nimport styles from \"./Chat.module.css\";\n\nimport { chatApi, Approaches, AskResponse, ChatRequest, ChatTurn } from \"../../api\";\nimport { Answer, AnswerError, AnswerLoading } from \"../../components/Answer\";\nimport { QuestionInput } from \"../../components/QuestionInput\";\nimport { ExampleList } from \"../../components/Example\";\nimport { UserChatMessage } from \"../../components/UserChatMessage\";\nimport { AnalysisPanel, AnalysisPanelTabs } from \"../../components/AnalysisPanel\";\nimport { SettingsButton } from \"../../components/SettingsButton\";\nimport { ClearChatButton } from \"../../components/ClearChatButton\";\n\nimport talkData from \"../../assets/ntt-data-2.jpg\";\n\nconst Chat = () => {\n    const [isConfigPanelOpen, setIsConfigPanelOpen] = useState(false);\n    const [promptTemplate, setPromptTemplate] = useState<string>(\"\");\n    const [retrieveCount, setRetrieveCount] = useState<number>(3);\n    const [useSemanticRanker, setUseSemanticRanker] = useState<boolean>(true);\n    const [useSemanticCaptions, setUseSemanticCaptions] = useState<boolean>(false);\n    const [excludeCategory, setExcludeCategory] = useState<string>(\"\");\n    const [useSuggestFollowupQuestions, setUseSuggestFollowupQuestions] = useState<boolean>(false);\n\n    const lastQuestionRef = useRef<string>(\"\");\n    const chatMessageStreamEnd = useRef<HTMLDivElement | null>(null);\n\n    const [isLoading, setIsLoading] = useState<boolean>(false);\n    const [error, setError] = useState<unknown>();\n\n    const [activeCitation, setActiveCitation] = useState<string>();\n    const [activequery, setActiveQuery] = useState<string>();\n    const [activeAnalysisPanelTab, setActiveAnalysisPanelTab] = useState<AnalysisPanelTabs | undefined>(undefined);\n\n    const [selectedAnswer, setSelectedAnswer] = useState<number>(0);\n    const [answers, setAnswers] = useState<[user: string, response: AskResponse][]>([]);\n\n    const makeApiRequest = async (question: string) => {\n        lastQuestionRef.current = question;\n\n        error && setError(undefined);\n        setIsLoading(true);\n        setActiveCitation(undefined);\n        setActiveAnalysisPanelTab(undefined);\n\n        try {\n            const history: ChatTurn[] = answers.map(a => ({ user: a[0], bot: a[1].answer }));\n            const request: ChatRequest = {\n                history: [...history, { user: question, bot: undefined }],\n                approach: Approaches.ReadRetrieveRead,\n                overrides: {\n                    promptTemplate: promptTemplate.length === 0 ? undefined : promptTemplate,\n                    excludeCategory: excludeCategory.length === 0 ? undefined : excludeCategory,\n                    top: retrieveCount,\n                    semanticRanker: useSemanticRanker,\n                    semanticCaptions: useSemanticCaptions,\n                    suggestFollowupQuestions: useSuggestFollowupQuestions\n                }\n            };\n            const result = await chatApi(request);\n            setAnswers([...answers, [question, result]]);\n        } catch (e) {\n            setError(e);\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    const clearChat = () => {\n        lastQuestionRef.current = \"\";\n        error && setError(undefined);\n        setActiveCitation(undefined);\n        setActiveAnalysisPanelTab(undefined);\n        setAnswers([]);\n    };\n\n    useEffect(() => chatMessageStreamEnd.current?.scrollIntoView({ behavior: \"smooth\" }), [isLoading]);\n\n    const onPromptTemplateChange = (_ev?: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>, newValue?: string) => {\n        setPromptTemplate(newValue || \"\");\n    };\n\n    const onRetrieveCountChange = (_ev?: React.SyntheticEvent<HTMLElement, Event>, newValue?: string) => {\n        setRetrieveCount(parseInt(newValue || \"3\"));\n    };\n\n    const onUseSemanticRankerChange = (_ev?: React.FormEvent<HTMLElement | HTMLInputElement>, checked?: boolean) => {\n        setUseSemanticRanker(!!checked);\n    };\n\n    const onUseSemanticCaptionsChange = (_ev?: React.FormEvent<HTMLElement | HTMLInputElement>, checked?: boolean) => {\n        setUseSemanticCaptions(!!checked);\n    };\n\n    const onExcludeCategoryChanged = (_ev?: React.FormEvent, newValue?: string) => {\n        setExcludeCategory(newValue || \"\");\n    };\n\n    const onUseSuggestFollowupQuestionsChange = (_ev?: React.FormEvent<HTMLElement | HTMLInputElement>, checked?: boolean) => {\n        setUseSuggestFollowupQuestions(!!checked);\n    };\n\n    const onExampleClicked = (example: string) => {\n        makeApiRequest(example);\n    };\n\n    const onShowQuery = (query: string, index: number) => {\n        if (activeCitation === query && activeAnalysisPanelTab === AnalysisPanelTabs.QueryTab && selectedAnswer === index) {\n            setActiveAnalysisPanelTab(undefined);\n        } else {\n            setActiveQuery(query);\n            setActiveAnalysisPanelTab(AnalysisPanelTabs.QueryTab);\n        }\n\n        setSelectedAnswer(index);\n    };\n\n    const onToggleTab = (tab: AnalysisPanelTabs, index: number) => {\n        if (activeAnalysisPanelTab === tab && selectedAnswer === index) {\n            setActiveAnalysisPanelTab(undefined);\n        } else {\n            setActiveAnalysisPanelTab(tab);\n        }\n\n        setSelectedAnswer(index);\n    };\n\n    return (\n        <div className={styles.container}>\n            <div className={styles.commandsContainer}>\n                <ClearChatButton className={styles.commandButton} onClick={clearChat} disabled={!lastQuestionRef.current || isLoading} />\n                <SettingsButton className={styles.commandButton} onClick={() => setIsConfigPanelOpen(!isConfigPanelOpen)} />\n            </div>\n            <div className={styles.chatRoot}>\n                <div className={styles.chatContainer}>\n                    {!lastQuestionRef.current ? (\n                        <div className={styles.chatEmptyState}>\n                            {/* <SparkleFilled fontSize={\"120px\"} primaryFill={\"rgba(115, 118, 225, 1)\"} aria-hidden=\"true\" aria-label=\"Chat logo\" /> */}\n                            <img src={talkData} alt=\"NTT Logo\" aria-label=\"NTT bg\" width=\"100%\" height=\"100%\" className={styles.githubLogo} />\n                            <br/><br/><br/>\n                            <h1 className={styles.chatEmptyStateTitle}>Talk to your data</h1>\n                            {/* <h2 className={styles.chatEmptyStateSubtitle}>Pergunte algo ou tente um exemplo</h2> */}\n                            {/* <ExampleList onExampleClicked={onExampleClicked} /> */}\n                        </div>\n                    ) : (\n                        <div className={styles.chatMessageStream}>\n                            {answers.map((answer, index) => (\n                                <div key={index}>\n                                    <UserChatMessage message={answer[0]} />\n                                    <div className={styles.chatMessageGpt}>\n                                        <Answer\n                                            key={index}\n                                            answer={answer[1]}\n                                            isSelected={selectedAnswer === index && activeAnalysisPanelTab !== undefined}\n                                            onQueryClicked={() => onToggleTab(AnalysisPanelTabs.QueryTab, index)}\n                                        />\n                                    </div>\n                                </div>\n                            ))}\n                            {isLoading && (\n                                <>\n                                    <UserChatMessage message={lastQuestionRef.current} />\n                                    <div className={styles.chatMessageGptMinWidth}>\n                                        <AnswerLoading />\n                                    </div>\n                                </>\n                            )}\n                            {error ? (\n                                <>\n                                    <UserChatMessage message={lastQuestionRef.current} />\n                                    <div className={styles.chatMessageGptMinWidth}>\n                                        <AnswerError error={error.toString()} onRetry={() => makeApiRequest(lastQuestionRef.current)} />\n                                    </div>\n                                </>\n                            ) : null}\n                            <div ref={chatMessageStreamEnd} />\n                        </div>\n                    )}\n\n                    <div className={styles.chatInput}>\n                        <QuestionInput clearOnSend placeholder=\"Ask a new question to start conversation\" disabled={isLoading} onSend={question => makeApiRequest(question)} />\n                    </div>\n                </div>\n\n                {answers.length > 0 && activeAnalysisPanelTab && (\n                    <AnalysisPanel\n                        className={styles.chatAnalysisPanel}\n                        onActiveTabChanged={x => onToggleTab(x, selectedAnswer)}\n                        answer={answers[selectedAnswer][1]}\n                        activeTab={activeAnalysisPanelTab}\n                    />\n                )}\n\n                <Panel\n                    headerText=\"Configure answer generation\"\n                    isOpen={isConfigPanelOpen}\n                    isBlocking={false}\n                    onDismiss={() => setIsConfigPanelOpen(false)}\n                    closeButtonAriaLabel=\"Close\"\n                    onRenderFooterContent={() => <DefaultButton onClick={() => setIsConfigPanelOpen(false)}>Close</DefaultButton>}\n                    isFooterAtBottom={true}\n                >\n                    <TextField\n                        className={styles.chatSettingsSeparator}\n                        defaultValue={promptTemplate}\n                        label=\"Override prompt template\"\n                        multiline\n                        autoAdjustHeight\n                        onChange={onPromptTemplateChange}\n                    />\n\n                    <SpinButton\n                        className={styles.chatSettingsSeparator}\n                        label=\"Retrieve this many documents from search:\"\n                        min={1}\n                        max={50}\n                        defaultValue={retrieveCount.toString()}\n                        onChange={onRetrieveCountChange}\n                    />\n                    <TextField className={styles.chatSettingsSeparator} label=\"Exclude category\" onChange={onExcludeCategoryChanged} />\n                    <Checkbox\n                        className={styles.chatSettingsSeparator}\n                        checked={useSemanticRanker}\n                        label=\"Use semantic ranker for retrieval\"\n                        onChange={onUseSemanticRankerChange}\n                    />\n                    <Checkbox\n                        className={styles.chatSettingsSeparator}\n                        checked={useSemanticCaptions}\n                        label=\"Use query-contextual summaries instead of whole documents\"\n                        onChange={onUseSemanticCaptionsChange}\n                        disabled={!useSemanticRanker}\n                    />\n                    <Checkbox\n                        className={styles.chatSettingsSeparator}\n                        checked={useSuggestFollowupQuestions}\n                        label=\"Suggest follow-up questions\"\n                        onChange={onUseSuggestFollowupQuestionsChange}\n                    />\n                </Panel>\n            </div>\n        </div>\n    );\n};\n\nexport default Chat;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport { createHashRouter, RouterProvider } from \"react-router-dom\";\nimport { initializeIcons } from \"@fluentui/react\";\n\nimport \"./index.css\";\n\nimport Layout from \"./pages/layout/Layout\";\nimport Chat from \"./pages/chat/Chat\";\n\ninitializeIcons();\n\nconst router = createHashRouter([\n    {\n        path: \"/\",\n        element: <Layout />,\n        children: [\n            {\n                index: true,\n                element: <Chat />\n            },\n            {\n                path: \"qa\",\n                lazy: () => import(\"./pages/oneshot/OneShot\")\n            },\n            {\n                path: \"*\",\n                lazy: () => import(\"./pages/NoPage\")\n            }\n        ]\n    }\n]);\n\nReactDOM.createRoot(document.getElementById(\"root\") as HTMLElement).render(\n    <React.StrictMode>\n        <RouterProvider router={router} />\n    </React.StrictMode>\n);\n"],"file":"assets/index-1f222d87.js"}