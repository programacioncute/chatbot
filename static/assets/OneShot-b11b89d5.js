import{b2 as e,r as a}from"./vendor-63829302.js";import{A as r,S as z,Q as J,a as Y,b as Z,c as ee,d as te,e as se}from"./index-1f222d87.js";import{f as ne,d as ae,D as oe,g as ie,T as h,e as re,C as P}from"./fluentui-react-0c868439.js";import"./fluentui-icons-9e9de5a5.js";const le="_oneshotContainer_p6613_1",ce="_oneshotTopSection_p6613_8",pe="_oneshotBottomSection_p6613_15",he="_oneshotTitle_p6613_25",ue="_oneshotQuestionInput_p6613_39",me="_oneshotAnswerContainer_p6613_46",de="_oneshotAnalysisPanel_p6613_53",xe="_oneshotSettingsSeparator_p6613_58",Se="_settingsButton_p6613_62",n={oneshotContainer:le,oneshotTopSection:ce,oneshotBottomSection:pe,oneshotTitle:he,oneshotQuestionInput:ue,oneshotAnswerContainer:me,oneshotAnalysisPanel:de,oneshotSettingsSeparator:xe,settingsButton:Se},ge="_examplesNavList_1eu46_1",ve="_example_1eu46_1",Ce="_exampleText_1eu46_27",_={examplesNavList:ge,example:ve,exampleText:Ce},fe=({text:l,value:i,onClick:o})=>e.jsx("div",{className:_.example,onClick:()=>o(i),children:e.jsx("p",{className:_.exampleText,children:l})}),_e=[{text:"What is included in my Northwind Health Plus plan that is not in standard?",value:"What is included in my Northwind Health Plus plan that is not in standard?"},{text:"What happens in a performance review?",value:"What happens in a performance review?"},{text:"What does a Product Manager do?",value:"What does a Product Manager do?"}],Te=({onExampleClicked:l})=>e.jsx("ul",{className:_.examplesNavList,children:_e.map((i,o)=>e.jsx("li",{children:e.jsx(fe,{text:i.text,value:i.value,onClick:l})},o))});function Ae(){const[l,i]=a.useState(!1),[o,k]=a.useState(r.RetrieveThenRead),[u,b]=a.useState(""),[m,w]=a.useState(""),[d,B]=a.useState(""),[T,E]=a.useState(3),[x,L]=a.useState(!0),[A,Q]=a.useState(!1),[R,I]=a.useState(""),S=a.useRef(""),[g,j]=a.useState(!1),[c,y]=a.useState(),[p,O]=a.useState(),[Re,D]=a.useState(),[v,C]=a.useState(void 0),f=async s=>{S.current=s,c&&y(void 0),j(!0),D(void 0),C(void 0);try{const t={question:s,approach:o,overrides:{promptTemplate:u.length===0?void 0:u,promptTemplatePrefix:m.length===0?void 0:m,promptTemplateSuffix:d.length===0?void 0:d,excludeCategory:R.length===0?void 0:R,top:T,semanticRanker:x,semanticCaptions:A}},$=await se(t);O($)}catch(t){y(t)}finally{j(!1)}},U=(s,t)=>{b(t||"")},W=(s,t)=>{w(t||"")},F=(s,t)=>{B(t||"")},H=(s,t)=>{E(parseInt(t||"3"))},V=(s,t)=>{k((t==null?void 0:t.key)||r.RetrieveThenRead)},M=(s,t)=>{L(!!t)},q=(s,t)=>{Q(!!t)},G=(s,t)=>{I(t||"")},K=s=>{f(s)},N=s=>{C(v===s?void 0:s)},X=[{key:r.RetrieveThenRead,text:"Retrieve-Then-Read"},{key:r.ReadRetrieveRead,text:"Read-Retrieve-Read"},{key:r.ReadDecomposeAsk,text:"Read-Decompose-Ask"}];return e.jsxs("div",{className:n.oneshotContainer,children:[e.jsxs("div",{className:n.oneshotTopSection,children:[e.jsx(z,{className:n.settingsButton,onClick:()=>i(!l)}),e.jsx("h1",{className:n.oneshotTitle,children:"FaÃ§a uma pergunta aos seus dados"}),e.jsx("div",{className:n.oneshotQuestionInput,children:e.jsx(J,{placeholder:"",disabled:g,onSend:s=>f(s)})})]}),e.jsxs("div",{className:n.oneshotBottomSection,children:[g&&e.jsx(ne,{label:"Gerando resposta"}),!S.current&&e.jsx(Te,{onExampleClicked:K}),!g&&p&&!c&&e.jsx("div",{className:n.oneshotAnswerContainer,children:e.jsx(Y,{answer:p,onQueryClicked:()=>N(Z.QueryTab)})}),c?e.jsx("div",{className:n.oneshotAnswerContainer,children:e.jsx(ee,{error:c.toString(),onRetry:()=>f(S.current)})}):null,v&&p&&e.jsx(te,{className:n.oneshotAnalysisPanel,onActiveTabChanged:s=>N(s),answer:p,activeTab:v})]}),e.jsxs(ae,{headerText:"Configure answer generation",isOpen:l,isBlocking:!1,onDismiss:()=>i(!1),closeButtonAriaLabel:"Close",onRenderFooterContent:()=>e.jsx(oe,{onClick:()=>i(!1),children:"Close"}),isFooterAtBottom:!0,children:[e.jsx(ie,{className:n.oneshotSettingsSeparator,label:"Approach",options:X,defaultSelectedKey:o,onChange:V}),(o===r.RetrieveThenRead||o===r.ReadDecomposeAsk)&&e.jsx(h,{className:n.oneshotSettingsSeparator,defaultValue:u,label:"Override prompt template",multiline:!0,autoAdjustHeight:!0,onChange:U}),o===r.ReadRetrieveRead&&e.jsxs(e.Fragment,{children:[e.jsx(h,{className:n.oneshotSettingsSeparator,defaultValue:m,label:"Override prompt prefix template",multiline:!0,autoAdjustHeight:!0,onChange:W}),e.jsx(h,{className:n.oneshotSettingsSeparator,defaultValue:d,label:"Override prompt suffix template",multiline:!0,autoAdjustHeight:!0,onChange:F})]}),e.jsx(re,{className:n.oneshotSettingsSeparator,label:"Retrieve this many documents from search:",min:1,max:50,defaultValue:T.toString(),onChange:H}),e.jsx(h,{className:n.oneshotSettingsSeparator,label:"Exclude category",onChange:G}),e.jsx(P,{className:n.oneshotSettingsSeparator,checked:x,label:"Use semantic ranker for retrieval",onChange:M}),e.jsx(P,{className:n.oneshotSettingsSeparator,checked:A,label:"Use query-contextual summaries instead of whole documents",onChange:q,disabled:!x})]})]})}Ae.displayName="OneShot";export{Ae as Component};
//# sourceMappingURL=OneShot-b11b89d5.js.map
